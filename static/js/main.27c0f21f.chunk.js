(this.webpackJsonpspacehaz=this.webpackJsonpspacehaz||[]).push([[0],[,,function(e,t,n){e.exports={player:"styles_player__1gY7t",player__equalizer:"styles_player__equalizer__2gt1l",player__controls:"styles_player__controls__2SwqT",player__playlist:"styles_player__playlist__dSZWw"}},,,function(e,t,n){e.exports={"player-timeline":"styles_player-timeline__EC2Dm","player-timeline__bar":"styles_player-timeline__bar__2a6j9"}},,function(e,t,n){e.exports={"playlist-item":"styles_playlist-item__3Pgob"}},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(1),r=n.n(a),c=n(6),l=n.n(c),s=(n(13),n.p,n(14),n(3)),o=n(2),u=n.n(o),d=[{title:"Thats life",author:"Sinatra",audioFile:n.p+"static/media/sinatra.40f71391.mp3",id:1},{title:"CREAM",author:"Wu-tang",audioFile:n.p+"static/media/wu-tang.dedc9be2.mp3",id:2}],p=n(7),j=n.n(p),_=function(e){var t=e.item,n=e.onClick,a=t.title,r=void 0===a?"No title":a,c=t.author,l=void 0===c?"No author":c;return Object(i.jsxs)("div",{className:j.a["playlist-item"],onClick:function(e){return n(t)},children:[l," - ",r]})},b=n(5),y=n.n(b),f=function(e){var t=e.duration,n=e.currentTime,a=e.onClick;return Object(i.jsx)("div",{className:y.a["player-timeline"],onClick:function(e){var n=e.currentTarget.getBoundingClientRect(),i=(e.clientX-n.left)/n.width*100;a(t/100*i)},children:Object(i.jsx)("div",{className:y.a["player-timeline__bar"],style:{width:"".concat(n/t*100,"%")}})})},m=function(e){var t=~~(e/3600),n=~~(e%3600/60),i=~~e%60,a="";return t>0&&(a+=t+":"+(n<10?"0":"")),a+=n+":"+(i<10?"0":""),a+=""+i};window.AudioContext=window.AudioContext||window.webkitAudioContext;var h=function(){var e=Object(a.useState)(d[0]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),l=Object(s.a)(c,2),o=l[0],p=l[1],j=Object(a.useState)(null),b=Object(s.a)(j,2),y=b[0],h=b[1],O=Object(a.useState)(0),v=Object(s.a)(O,2),g=v[0],x=v[1],C=Object(a.useState)(!1),w=Object(s.a)(C,2),S=w[0],N=w[1],T=Object(a.useRef)(null),k=Object(a.useRef)(null),A=function(e,t){var n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}}((function(e){p(e.target.currentTime)}),1e3);return Object(a.useEffect)((function(e){var t=new AudioContext,n=T.current,i=t.createMediaElementSource(n),a=t.createAnalyser();a.fftSize=128,i.connect(a).connect(t.destination),a.connect(t.destination),h(t);var r=a.frequencyBinCount,c=new Uint8Array(r);!function e(t){requestAnimationFrame(e),a.getByteFrequencyData(c);var n=c.toString();k.current.style.backgroundColor=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<3)-t);var i=Math.abs(t).toString(16).substring(0,6);return"#"+"000000".substring(0,6-i.length)+i}(c.toString(n)),k.current.innerText=n}()}),[]),Object(i.jsxs)("div",{className:u.a.player,children:[Object(i.jsx)("div",{className:u.a.player__equalizer,ref:k}),Object(i.jsxs)("div",{className:u.a.player__controls,children:[Object(i.jsx)(f,{currentTime:o,duration:g,onClick:function(e){T.current.currentTime=e}}),Object(i.jsx)("div",{children:n.title}),Object(i.jsxs)("div",{children:["playing time: ",m(o)]}),Object(i.jsxs)("div",{children:["duration: ",m(g)]}),Object(i.jsx)("button",{onClick:function(e){S?(T.current.pause(),N(!1)):("suspended"===y.state&&y.resume(),T.current.play(),N(!0))},children:S?"pause":"play"}),Object(i.jsx)("audio",{src:n.audioFile,className:u.a.player__audio,ref:T,onPlay:function(e){x(e.target.duration)},onPause:function(e){return console.log("pause")},onTimeUpdate:A,onLoadedData:function(e){return x(T.current.duration)}})]}),Object(i.jsx)("div",{className:u.a.player__playlist,children:d.map((function(e){return Object(i.jsx)(_,{item:e,onClick:function(e){r(e),N(!1)}},e.id)}))})]})};var O=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)("header",{className:"App-header",children:Object(i.jsx)(h,{})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};l.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root")),v()}],[[15,1,2]]]);
//# sourceMappingURL=main.27c0f21f.chunk.js.map